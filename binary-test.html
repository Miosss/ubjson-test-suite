<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Binary test</title>
        <style type="text/css">
            .result { background-color: #F0F0F0; width: 90%; }
        </style>
    </head>
    <body>
        <div class="result">
            <pre id="disp">&nbsp;</pre>
        </div>
        <script type="text/javascript">
            function endianness () {
                var b = new ArrayBuffer(4);
                var a = new Uint32Array(b);
                var c = new Uint8Array(b);
                a[0] = 0xdeadbeef;
                if (c[0] == 0xef) return 'LE';
                if (c[0] == 0xde) return 'BE';
                throw new Error('unknown endianness');
            }
            function float32test(floatNum) {
                var ab = new ArrayBuffer(4);
                var dv = new DataView(ab);
                dv.setFloat32(0, floatNum, false);
                var str = '';
                for (var i = 0; i < 4; i++) {
                    str += String.fromCharCode(dv.getUint8(i));
                }
                return btoa(str);
            }
            try {
                document.getElementById('disp').innerHTML = 'endianness: ' + endianness() + ', data: ' + float32test(76.572);
            }
            catch(error) {
                document.getElementById('disp').innerHTML = 'ERROR: ' + error;
            }
        </script>
    </body>
</html>